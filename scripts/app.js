!function(e){"use strict";var t=e.querySelector("#app");t.baseUrl="/",""===window.location.port&&(t.baseUrl="/avocados/"),t.displayInstalledToast=function(){e.querySelector("platinum-sw-cache").disabled||e.querySelector("#caching-complete").show()},t.addEventListener("dom-change",function(){console.log("Our app is ready to rock!")}),window.addEventListener("WebComponentsReady",function(){t.set("user",t.user),t.set("user.id",t.user.id)}),addEventListener("paper-header-transform",function(t){var a=(e.querySelector("#mainToolbar .app-name"),e.querySelector("#mainToolbar .middle-container"),e.querySelector("#mainToolbar .bottom-container"),t.detail),r=a.height-a.condensedHeight,i=(Math.min(1,a.y/r),.5);Math.max(i,(r-a.y)/(r/(1-i))+i)}),t.toggleDrawerPanel=function(t){var a=e.querySelector(t);a.togglePanel()},t.toggleDrawerPanelLeft=function(){t.toggleDrawerPanel("#paperDrawerPanelLeft")},t.toggleDrawerPanelRight=function(){t.toggleDrawerPanel("#paperDrawerPanelRight")},t.scrollPageToTop=function(){e.getElementById("mainContainer").scrollTop=0},t.initializeData=function(){console.log("initialization"),t.user={id:"",activities:[]}},t.handleOnStart=function(){this.set("currentActivity.startTime",(new Date).toISOString()),this.set("currentActivity.actor",t.user.id)},t.handleOnStop=function(){this.set("currentActivity.endTime",(new Date).toISOString()),this.push("user.activities",t.currentActivity),this.set("currentActivity",null)},t.user={id:"https://idp.wwelves.org/ef093385-8906-4c78-9a69-9217c76013a8#id",activities:[]},t.onTypeSelected=function(e,a){switch(t.toggleDrawerPanelLeft(),a.subject){case"Goal":t.subject.type.indexOf("Person")>=0?t.set("subject.dataSelection",t.subject["@reverse"]["role:assignee"]):t.subject.type.indexOf("Project")>=0&&t.set("subject.dataSelection",t.subject.goal);break;case"Project":t.set("subject.dataSelection",t.subject["@reverse"]["role:contributor"]);break;case"Activity":t.set("subject.dataSelection",t.subject["@reverse"].actor)}},t.onRelationSelected=function(e,a){switch(t.toggleDrawerPanelRight(),a.relation){case"role:assignee":t.set("subject.dataSelection",t.subject["@reverse"]["role:assignee"]);break;case"goal":t.set("subject.dataSelection",t.subject.goal);break;case"role:contributor":t.set("subject.dataSelection",t.subject["@reverse"]["role:contributor"]);break;case"actor":t.set("subject.dataSelection",t.subject["@reverse"].actor)}},t.onSubjectChange=function(e,t){if(t&&t.id){var a="/subject/"+btoa(t.id);page(a)}},t.onActivityClick=function(e){t.currentActivity={type:"Activity",object:this.subject.id}}}(document);